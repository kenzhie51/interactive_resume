<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2D Minecraft-Style Character</title>
    <style>
        body {
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #87ceeb; /* Sky blue */
            overflow: hidden;
        }
        canvas {
            display: block;
            background-color: #6b8e23; /* Grass green */
        }
    </style>
</head>
<body>
    <canvas id="gameCanvas"></canvas>

    <script>
        // Set up the canvas
        const canvas = document.getElementById("gameCanvas");
        const ctx = canvas.getContext("2d");
        canvas.width = 800;
        canvas.height = 400;

        // Character properties
        const character = {
            x: 100,
            y: 300,
            width: 40,
            height: 60,
            color: "#ffcc00", // Yellow body
            dx: 0, // Horizontal velocity
            dy: 0, // Vertical velocity
            isJumping: false, // Jumping state
            jumpStrength: -10, // Jump force
            gravity: 0.5, // Gravity
        };

        // Ground level
        const groundHeight = 50;
        const groundY = canvas.height - groundHeight;

        // Key press events
        const keys = {
            left: false,
            right: false,
            jump: false,
        };

        window.addEventListener("keydown", (e) => {
            if (e.key === "ArrowLeft" || e.key === "a") keys.left = true;
            if (e.key === "ArrowRight" || e.key === "d") keys.right = true;
            if ((e.key === "ArrowUp" || e.key === "w") && !character.isJumping) {
                keys.jump = true;
            }
        });

        window.addEventListener("keyup", (e) => {
            if (e.key === "ArrowLeft" || e.key === "a") keys.left = false;
            if (e.key === "ArrowRight" || e.key === "d") keys.right = false;
            if (e.key === "ArrowUp" || e.key === "w") keys.jump = false;
        });

        // Game loop
        function gameLoop() {
            // Clear the canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Draw the ground
            ctx.fillStyle = "#228B22"; // Forest green
            ctx.fillRect(0, canvas.height - groundHeight, canvas.width, groundHeight);

            // Update character position
            if (keys.left) character.dx = -2;
            else if (keys.right) character.dx = 2;
            else character.dx = 0;

            // Apply horizontal movement
            character.x += character.dx;

            // Prevent character from leaving the canvas horizontally
            if (character.x < 0) character.x = 0;
            if (character.x + character.width > canvas.width) character.x = canvas.width - character.width;

            // Handle jumping
            if (keys.jump && !character.isJumping) {
                character.isJumping = true;
                character.dy = character.jumpStrength;
            }

            // Apply gravity
            character.dy += character.gravity;
            character.y += character.dy;

            // Prevent character from falling below the ground
            if (character.y + character.height >= groundY) {
                character.y = groundY - character.height;
                character.isJumping = false; // Reset jumping state
            }

            // Draw the character
            drawCharacter();

            // Loop
            requestAnimationFrame(gameLoop);
        }

        // Draw the character
        function drawCharacter() {
            // Body
            ctx.fillStyle = character.color;
            ctx.fillRect(character.x, character.y, character.width, character.height);

            // Head
            ctx.fillStyle = "#ffcc99"; // Peach
            ctx.fillRect(character.x + 5, character.y - 20, 30, 20);

            // Legs
            ctx.fillStyle = "#333333"; // Dark gray
            ctx.fillRect(character.x + 5, character.y + character.height, 10, 20); // Left leg
            ctx.fillRect(character.x + 25, character.y + character.height, 10, 20); // Right leg

            // Arms
            ctx.fillStyle = "#ffcc00"; // Yellow
            ctx.fillRect(character.x - 10, character.y + 10, 10, 30); // Left arm
            ctx.fillRect(character.x + character.width, character.y + 10, 10, 30); // Right arm
        }

        // Start the game loop
        gameLoop();
    </script>
</body>
</html>
